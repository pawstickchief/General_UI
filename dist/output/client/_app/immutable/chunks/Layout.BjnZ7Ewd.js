import{a as I,t as C,d as ve}from"./disclose-version.CCpMAAFc.js";import"./legacy.BWim2NN6.js";import{X as Be,I as Le,h as G,N as ae,e as Ae,G as Ie,ae as ke,K as De,M as fe,O as re,S as Z,ak as $,P as xe,Q as _e,R as Me,a4 as Se,Z as he,al as ie,am as be,an as le,ao as Ce,ad as Ne,ap as Re,aq as He,ar as ye,Y as Oe,aa as Pe,a3 as qe,as as Ue,W as Ye,at as ge,au as ze,a8 as Ve,p as de,a as ce,s as H,g as o,m as X,b as S,c as p,r as h,t as P}from"./runtime.BL0abR6R.js";import{s as Xe}from"./slot.CGnX09gx.js";import{e as F,s as q}from"./render.CxwJUUM4.js";import{i as V}from"./store.DfRPK0Rh.js";import{a as j}from"./attributes.HwkUCdGZ.js";import{i as ue}from"./lifecycle.DtcGbrmE.js";import{c as Ge,o as te}from"./index-client.C2hQeMyM.js";import{g as we}from"./entry.CRC5oQyB.js";import{p as K}from"./2.7IsobFCL.js";function ne(t,e){return e}function Ke(t,e,r,i){for(var l=[],f=e.length,d=0;d<f;d++)Ce(e[d].e,l,!0);var b=f>0&&l.length===0&&r!==null;if(b){var m=r.parentNode;Ne(m),m.append(r),i.clear(),z(t,e[0].prev,e[f-1].next)}Re(l,()=>{for(var _=0;_<f;_++){var g=e[_];b||(i.delete(g.k),z(t,g.prev,g.next)),He(g.e,!b)}})}function oe(t,e,r,i,l,f=null){var d=t,b={flags:e,items:new Map,first:null},m=(e&ye)!==0;if(m){var _=t;d=G?ae(Oe(_)):_.appendChild(Be())}G&&Ae();var g=null,w=!1;Le(()=>{var B=r(),n=Ie(B)?B:B==null?[]:ke(B),c=n.length;if(w&&c===0)return;w=c===0;let a=!1;if(G){var s=d.data===De;s!==(c===0)&&(d=fe(),ae(d),re(!1),a=!0)}if(G){for(var u=null,k,L=0;L<c;L++){if(Z.nodeType===8&&Z.data===Pe){d=Z,a=!0,re(!1);break}var N=n[L],v=i(N,L);k=Te(Z,b,u,null,N,v,L,l,e),b.items.set(v,k),u=k}c>0&&ae(fe())}if(!G){var x=qe;Qe(n,b,d,l,e,(x.f&$)!==0,i)}f!==null&&(c===0?g?xe(g):g=_e(()=>f(d)):g!==null&&Me(g,()=>{g=null})),a&&re(!0),r()}),G&&(d=Z)}function Qe(t,e,r,i,l,f,d,b){var O,Y,Q,J;var m=(l&Ue)!==0,_=(l&(ie|le))!==0,g=t.length,w=e.items,B=e.first,n=B,c,a=null,s,u=[],k=[],L,N,v,x;if(m)for(x=0;x<g;x+=1)L=t[x],N=d(L,x),v=w.get(N),v!==void 0&&((O=v.a)==null||O.measure(),(s??(s=new Set)).add(v));for(x=0;x<g;x+=1){if(L=t[x],N=d(L,x),v=w.get(N),v===void 0){var y=n?n.e.nodes_start:r;a=Te(y,e,a,a===null?e.first:a.next,L,N,x,i,l),w.set(N,a),u=[],k=[],n=a.next;continue}if(_&&We(v,L,x,l),v.e.f&$&&(xe(v.e),m&&((Y=v.a)==null||Y.unfix(),(s??(s=new Set)).delete(v))),v!==n){if(c!==void 0&&c.has(v)){if(u.length<k.length){var E=k[0],D;a=E.prev;var A=u[0],T=u[u.length-1];for(D=0;D<u.length;D+=1)me(u[D],E,r);for(D=0;D<k.length;D+=1)c.delete(k[D]);z(e,A.prev,T.next),z(e,a,A),z(e,T,E),n=E,a=T,x-=1,u=[],k=[]}else c.delete(v),me(v,n,r),z(e,v.prev,v.next),z(e,v,a===null?e.first:a.next),z(e,a,v),a=v;continue}for(u=[],k=[];n!==null&&n.k!==N;)(f||!(n.e.f&$))&&(c??(c=new Set)).add(n),k.push(n),n=n.next;if(n===null)continue;v=n}u.push(v),a=v,n=v.next}if(n!==null||c!==void 0){for(var M=c===void 0?[]:ke(c);n!==null;)(f||!(n.e.f&$))&&M.push(n),n=n.next;var R=M.length;if(R>0){var U=l&ye&&g===0?r:null;if(m){for(x=0;x<R;x+=1)(Q=M[x].a)==null||Q.measure();for(x=0;x<R;x+=1)(J=M[x].a)==null||J.fix()}Ke(e,M,U,w)}}m&&Se(()=>{var W;if(s!==void 0)for(v of s)(W=v.a)==null||W.apply()}),he.first=e.first&&e.first.e,he.last=a&&a.e}function We(t,e,r,i){i&ie&&be(t.v,e),i&le?be(t.i,r):t.i=r}function Te(t,e,r,i,l,f,d,b,m,_){var g=(m&ie)!==0,w=(m&ze)===0,B=g?w?Ye(l):ge(l):l,n=m&le?ge(d):d,c={i:n,v:B,k:f,a:null,e:null,prev:r,next:i};try{return c.e=_e(()=>b(t,B,n),G),c.e.prev=r&&r.e,c.e.next=i&&i.e,r===null?e.first=c:(r.next=c,r.e.next=c.e),i!==null&&(i.prev=c,i.e.prev=c.e),c}finally{}}function me(t,e,r){for(var i=t.next?t.next.e.nodes_start:r,l=e?e.e.nodes_start:r,f=t.e.nodes_start;f!==i;){var d=Ve(f);l.before(f),f=d}}function z(t,e,r){e===null?t.first=r:(e.next=r,e.e.next=r&&r.e),r!==null&&(r.prev=e,r.e.prev=e&&e.e)}function se(t,e,r){if(r){if(t.classList.contains(e))return;t.classList.add(e)}else{if(!t.classList.contains(e))return;t.classList.remove(e)}}function Ze(t){return function(...e){var r=e[0];return r.stopPropagation(),t==null?void 0:t.apply(this,e)}}function pe(t){return function(...e){var r=e[0];return r.preventDefault(),t==null?void 0:t.apply(this,e)}}var Fe=C('<span class="mr-2"> </span>'),Je=C('<span class="ml-auto text-sm"> </span>'),$e=C('<span class="mr-2"> </span>'),je=C('<li><a class="block px-4 py-2 rounded-md hover:bg-primary hover:text-lightBackground dark:hover:bg-accent dark:hover:text-darkBackground transition duration-300"><!> </a></li>'),ea=C('<ul class="pl-4 border-l border-borderLight dark:border-borderDark ml-4 space-y-1"></ul>'),aa=C('<li><a class="block px-4 py-2 rounded-md hover:bg-primary hover:text-lightBackground dark:hover:bg-accent dark:hover:text-darkBackground transition duration-300"><!> <!></a> <!></li>'),ra=C('<aside class="w-52 h-full bg-lightBackground dark:bg-darkBackground text-lightText dark:text-darkText border-r border-borderLight dark:border-borderDark transition duration-300"><div class="p-4 text-2xl font-bold text-primary dark:text-accent">Admin Panel</div> <ul class="p-4 space-y-2"></ul></aside>');function ta(t,e){de(e,!1);const r=Ge();let i=X([]),l=X(null),f=null;f=(a=>{const s=document.cookie.match(new RegExp(`(^| )${a}=([^;]+)`));return s?decodeURIComponent(s[2]):null})("auth_token");let b=X(new Set),m=[],_=[];te(async()=>{if(f)try{const a=await fetch("/api/menu",{method:"POST",headers:{Authorization:f}});if(!a.ok){console.error("Error fetching menu items:",a.status);return}H(i,await a.json()),console.log("Menu items received:",o(i));const s=window.location.pathname,u=g(o(i),s);u&&(m=w(u),_=[{title:u.title,pathname:u.pathname}],H(l,u.pathname),r("updateBreadcrumbsAndTabs",{breadcrumbs:m,tabs:_}))}catch(a){console.error("Error in fetch request:",a)}else console.warn("No token found in cookies")});const g=(a,s)=>{for(const u of a){if(u.pathname===s)return u;if(u.children){const k=g(u.children,s);if(k)return k}}},w=a=>{const s=[];for(;a;)s.unshift(a.title),a=o(i).find(u=>u.id===a.parent_id);return["‰∏ªÈ°µ",...s]},B=a=>{if(a.children&&a.children.length>0)H(b,new Set(o(b))),o(b).has(a.id)?o(b).delete(a.id):o(b).add(a.id);else{const s=w(a);_.some(k=>k.pathname===a.pathname)||(_=[..._,{title:a.title,pathname:a.pathname}]),r("updateBreadcrumbsAndTabs",{breadcrumbs:s,tabs:_}),H(l,a.pathname),we(a.pathname)}};ue();var n=ra(),c=S(p(n),2);oe(c,5,()=>o(i),ne,(a,s)=>{var u=aa(),k=p(u),L=p(k);{var N=A=>{var T=Fe(),M=p(T,!0);h(T),P(()=>q(M,o(s).icon)),I(A,T)};V(L,A=>{o(s).icon&&A(N)})}var v=S(L),x=S(v);{var y=A=>{var T=Je(),M=p(T,!0);P(()=>q(M,o(b).has(o(s).id)?"‚ñ≤":"‚ñº")),h(T),I(A,T)};V(x,A=>{o(s).children&&o(s).children.length>0&&A(y)})}h(k);var E=S(k,2);{var D=A=>{var T=ea();oe(T,5,()=>o(s).children,ne,(M,R)=>{var U=je(),O=p(U),Y=p(O);{var Q=W=>{var ee=$e(),Ee=p(ee,!0);h(ee),P(()=>q(Ee,o(R).icon)),I(W,ee)};V(Y,W=>{o(R).icon&&W(Q)})}var J=S(Y);h(O),h(U),P(()=>{j(O,"href",o(R).pathname),se(O,"font-bold",o(l)===o(R).pathname),q(J,` ${o(R).title??""}`)}),F("click",O,pe(()=>B(o(R)))),I(M,U)}),h(T),I(A,T)};V(E,A=>{var T;o(b).has(o(s).id)&&((T=o(s).children)==null?void 0:T.length)>0&&A(D)})}h(u),P(()=>{j(k,"href",o(s).pathname),se(k,"font-bold",o(l)===o(s).pathname),q(v,` ${o(s).title??""} `)}),F("click",k,pe(()=>B(o(s)))),I(a,u)}),h(c),h(n),I(t,n),ce()}var na=C('<span class="mx-1 text-gray-400 dark:text-gray-500 transition duration-300">/</span>'),oa=C(`<li class="flex items-center"><a href="#" class="hover:underline text-secondary dark:text-grayDark
                       hover:text-primary dark:hover:text-accent
                       transition duration-300 font-medium"> </a> <!></li>`),sa=C('<nav class="px-4 py-2 bg-lightBackground dark:bg-darkBackground transition duration-300"><ol class="flex space-x-2 text-sm"></ol></nav>');function ia(t,e){de(e,!1);let r=K(e,"breadcrumbs",24,()=>["Home","Dashboard"]);ue();var i=sa(),l=p(i);oe(l,5,r,ne,(f,d,b)=>{var m=oa(),_=p(m),g=p(_,!0);h(_);var w=S(_,2);{var B=n=>{var c=na();I(n,c)};V(w,n=>{b<r().length-1&&n(B)})}h(m),P(()=>{se(_,"font-semibold",b===r().length-1),q(g,o(d))}),I(f,m)}),h(l),h(i),I(t,i),ce()}var la=C(`<span class="absolute -bottom-1 -right-1 bg-green-500
                               text-xs text-white px-1 rounded-full shadow-md"> </span>`),da=C(`<div class="absolute right-0 mt-2 w-60 bg-lightBackground
                       dark:bg-darkBackground text-lightText
                       dark:text-darkText rounded-lg shadow-lg
                       z-50 border border-gray-300 dark:border-gray-700
                       transition duration-300"><div class="p-4 flex items-center border-b border-gray-200 dark:border-gray-700"><img alt="Avatar" class="w-10 h-10 rounded-full"> <div class="ml-3"><div class="font-bold text-gray-900 dark:text-white"> </div> <div class="text-sm text-gray-500 dark:text-gray-400"> </div></div></div> <ul class="space-y-1"><li><a href="/users/profile" class="block px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-700
                                   flex items-center space-x-2 transition duration-200"><span>üìÑ</span> <span>Áî®Êà∑‰ø°ÊÅØ</span></a></li> <li><a href="#" class="block px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-700
                                   flex items-center space-x-2 transition duration-200"><span>‚ùì</span> <span>ÈóÆÈ¢ò & Â∏ÆÂä©</span></a></li></ul> <div class="border-t border-gray-200 dark:border-gray-700"><button class="block w-full text-left px-4 py-2 text-danger
                               hover:bg-gray-100 dark:hover:bg-gray-700
                               hover:text-red-400 transition duration-200">ÈÄÄÂá∫ÁôªÂΩï</button></div></div>`),ca=C(`<div class="flex items-center space-x-4 relative"><button class="p-2 rounded-lg bg-gray-200 dark:bg-gray-700
               text-gray-800 dark:text-gray-200 hover:bg-gray-300
               dark:hover:bg-gray-600 transition duration-300"><!></button> <div class="relative"><button class="flex items-center focus:outline-none"><div class="relative"><img alt="Avatar" class="w-10 h-10 rounded-full border-2 border-gray-200 dark:border-gray-600"> <!></div></button> <!></div></div>`);function ua(t,e){de(e,!1);let r=K(e,"username",8,"admin"),i=K(e,"email",8,"admin@email.com"),l=K(e,"avatar",8,"/favicon.png"),f=K(e,"status",8,"ok"),d=X(!1);const b=()=>{H(d,!o(d));const y=document.documentElement;o(d)?y.classList.add("dark"):y.classList.remove("dark"),localStorage.setItem("theme",o(d)?"dark":"light")};te(()=>{const y=localStorage.getItem("theme");H(d,y==="dark"),o(d)?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")});let m=X(!1);te(()=>{{const y=E=>{E.target.closest(".dropdown-container")||H(m,!1)};return document.addEventListener("click",y),()=>{document.removeEventListener("click",y)}}});const _=()=>{localStorage.removeItem("auth_token"),localStorage.removeItem("theme"),document.cookie="auth_token=; path=/; max-age=0",we("/login")};ue();var g=ca(),w=p(g),B=p(w);{var n=y=>{var E=ve("üåû");I(y,E)},c=y=>{var E=ve("üåô");I(y,E)};V(B,y=>{o(d)?y(n):y(c,!1)})}h(w);var a=S(w,2),s=p(a),u=p(s),k=p(u),L=S(k,2);{var N=y=>{var E=la(),D=p(E,!0);h(E),P(()=>q(D,f())),I(y,E)};V(L,y=>{f()&&y(N)})}h(u),h(s);var v=S(s,2);{var x=y=>{var E=da(),D=p(E),A=p(D),T=S(A,2),M=p(T),R=p(M,!0);h(M);var U=S(M,2),O=p(U,!0);h(U),h(T),h(D);var Y=S(D,4),Q=p(Y);h(Y),h(E),P(()=>{j(A,"src",l()),q(R,r()),q(O,i())}),F("click",Q,_),I(y,E)};V(v,y=>{o(m)&&y(x)})}h(a),h(g),P(()=>j(k,"src",l())),F("click",w,b),F("click",s,Ze(()=>H(m,!o(m)))),I(t,g),ce()}var va=C(`<header class=" flex flex-col space-y-2
       bg-lightBackground dark:bg-darkBackground
       text-lightText dark:text-darkText
       border border-borderLight dark:border-borderDark
       rounded-md shadow-lg
       transition-all duration-300 ease-in-out"><div class="flex h-16 border border-borderLight dark:border-borderDark justify-between items-center gap-4"><!> <!></div></header>`);function fa(t,e){let r=K(e,"breadcrumbs",24,()=>[]),i=K(e,"notifications",8,0);var l=va(),f=p(l),d=p(f);ia(d,{get breadcrumbs(){return r()}});var b=S(d,2);ua(b,{get notifications(){return i()}}),h(f),h(l),I(t,l)}var ha=C('<div class="flex min-h-screen w-full bg-lightBackground dark:bg-darkBackground text-lightText dark:text-darkText transition-all duration-300 overflow-hidden"><!> <div class="flex-1 flex flex-col overflow-hidden"><!> <main class="flex-1 overflow-auto p-4"><!></main></div></div>');function Ba(t,e){let r=X([]),i=X([]),l=X(0),f=3;const d=n=>{const{breadcrumbs:c,tabs:a}=n.detail;H(r,c),H(i,a)};var b=ha(),m=p(b);ta(m,{class:"border-r border-borderLight dark:border-borderDark",$$events:{updateBreadcrumbsAndTabs:d}});var _=S(m,2),g=p(_);fa(g,{get breadcrumbs(){return o(r)},get tabs(){return o(i)},notifications:f,get activeTab(){return o(l)},set activeTab(n){H(l,n)},$$legacy:!0});var w=S(g,2),B=p(w);Xe(B,e,"default",{}),h(w),h(_),h(b),I(t,b)}export{Ba as L,oe as e,ne as i};
