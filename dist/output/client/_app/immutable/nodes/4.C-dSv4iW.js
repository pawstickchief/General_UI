import{a as v,t as k,n as z}from"../chunks/disclose-version.CCpMAAFc.js";import"../chunks/legacy.BWim2NN6.js";import{p as C,a as D,g as i,s as b,b as m,c as s,n as _,r as n,t as J,m as y}from"../chunks/runtime.BL0abR6R.js";import{e as E,s as N}from"../chunks/render.CxwJUUM4.js";import{i as O,s as P,a as q}from"../chunks/store.DfRPK0Rh.js";import{r as T}from"../chunks/attributes.HwkUCdGZ.js";import{b as I,a as G}from"../chunks/input.DEjAtde0.js";import{i as A}from"../chunks/lifecycle.DtcGbrmE.js";import{o as B}from"../chunks/index-client.C2hQeMyM.js";import{w as K,g as L}from"../chunks/entry.CRC5oQyB.js";const $=K("light");var Q=k('<p class="text-red-500 text-sm"> </p>'),R=k('<div class="space-y-4 p-8 bg-white dark:bg-gray-800 rounded-lg shadow-2xl max-w-sm mx-auto"><h2 class="text-2xl font-bold text-center text-gray-800 dark:text-gray-100">ç™»å½•</h2> <input type="text" placeholder="ç”¨æˆ·å" class="w-full p-3 border rounded-md focus:outline-none focus:ring-2 focus:ring-primary dark:bg-gray-700 dark:border-gray-600"> <input type="password" placeholder="å¯†ç " class="w-full p-3 border rounded-md focus:outline-none focus:ring-2 focus:ring-primary dark:bg-gray-700 dark:border-gray-600"> <div class="flex items-center justify-between text-sm"><label class="flex items-center space-x-2"><input type="checkbox" class="form-checkbox text-primary"> <span class="text-gray-600 dark:text-gray-300">è®°ä½ç™»å½• 7 å¤©</span></label> <a href="/forgot-password" class="text-primary hover:underline dark:text-blue-400">å¿˜è®°å¯†ç ?</a></div> <!> <button class="w-full p-3 bg-primary text-white rounded-md hover:bg-blue-600 transition duration-300">ç™»å½•</button> <p class="text-xs text-center text-gray-500 dark:text-gray-400">ç™»å½•å³è¡¨ç¤ºæ‚¨åŒæ„æˆ‘ä»¬çš„ <a href="/privacy-policy" class="text-primary hover:underline dark:text-blue-400">éšç§æ”¿ç­–</a> å’Œ <a href="/terms" class="text-primary hover:underline dark:text-blue-400">æœåŠ¡æ¡æ¬¾</a>ã€‚</p></div>');function U(x,p){C(p,!1);let c=y(""),d=y(""),l=y(!1),r=y("");const u=async()=>{try{const a=await(await fetch("/api/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:i(c),password:i(d),rememberMe:i(l)})})).json();if(a.success){const g=i(l)?604800:86400;w(a.token,g),await L("/dashboard")}else b(r,a.message)}catch{b(r,"ç™»å½•å¤±è´¥ï¼Œè¯·ç¨åå†è¯•")}},w=(e,a)=>{const g=Date.now()+a*1e3;document.cookie=`auth_token=${e}; path=/; max-age=${a}`,document.cookie=`token_expiration=${g}; path=/; max-age=${a}`,localStorage.setItem("auth_token",e),localStorage.setItem("token_expiration",g.toString()),console.log(`ğŸ”‘ Token: ${e}`),console.log(`â³ Token è¿‡æœŸæ—¶é—´ï¼ˆæ—¶é—´æˆ³ï¼‰: ${g}`)};B(()=>{const e=localStorage.getItem("auth_token"),a=parseInt(localStorage.getItem("token_expiration")||"0",10);e&&Date.now()<a&&L("/dashboard")}),A();var f=R(),h=m(s(f),2);T(h);var t=m(h,2);T(t);var o=m(t,2),M=s(o),j=s(M);T(j),_(2),n(M),_(2),n(o);var S=m(o,2);{var F=e=>{var a=Q(),g=s(a,!0);n(a),J(()=>N(g,i(r))),v(e,a)};O(S,e=>{i(r)&&e(F)})}var H=m(S,2);_(2),n(f),I(h,()=>i(c),e=>b(c,e)),I(t,()=>i(d),e=>b(d,e)),G(j,()=>i(l),e=>b(l,e)),E("click",H,u),v(x,f),D()}var V=z('<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 2v2m0 16v2m8-8h2m-18 0H2m16.364-6.364l1.414 1.414M4.222 19.778l1.414-1.414m12.728 0l1.414 1.414M4.222 4.222l1.414 1.414M12 6a6 6 0 110 12 6 6 0 010-12z"></path>'),W=z('<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3.3a9 9 0 100 17.4A7.5 7.5 0 1112 3.3z"></path>'),X=k('<button class="p-2 rounded-full bg-gray-200 dark:bg-gray-600 hover:bg-gray-300 dark:hover:bg-gray-500 transition duration-300"><svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6 text-gray-800 dark:text-gray-100" fill="none" viewBox="0 0 24 24" stroke="currentColor"><!></svg></button>');function Y(x,p){C(p,!1);const c=P(),d=()=>q($,"$theme",c);B(()=>{const t=localStorage.getItem("theme")||"light";document.documentElement.classList.toggle("dark",t==="dark"),$.set(t)});const l=()=>{$.update(t=>{const o=t==="light"?"dark":"light";return document.documentElement.classList.toggle("dark",o==="dark"),localStorage.setItem("theme",o),o})};A();var r=X(),u=s(r),w=s(u);{var f=t=>{var o=V();v(t,o)},h=t=>{var o=W();v(t,o)};O(w,t=>{d()==="light"?t(f):t(h,!1)})}n(u),n(r),E("click",r,l),v(x,r),D()}var Z=k('<div class="flex min-h-screen items-center justify-center bg-gray-50 dark:bg-gray-900 text-gray-800 dark:text-gray-100 transition-all duration-300 relative"><div class="absolute top-6 left-6 flex items-center space-x-2"><img src="/favicon.png" alt="Logo" class="w-8 h-8"> <span class="text-2xl font-bold text-primary dark:text-accent">å¹²é¥­å’ª</span></div> <div class="flex flex-col md:flex-row items-center justify-between w-full max-w-5xl p-6 space-y-6 md:space-y-0"><div class="flex-1 text-center md:text-left space-y-4"><h1 class="text-4xl font-bold">æ¬¢è¿å›æ¥ ğŸ‘‹</h1> <p class="text-gray-600 dark:text-gray-400">è¯·è¾“å…¥æ‚¨çš„è´¦æˆ·ä¿¡æ¯ä»¥å¼€å§‹ç®¡ç†æ‚¨çš„é¡¹ç›®</p></div> <div class="flex-1"><!> <div class="flex justify-center mt-4"><!></div></div></div></div>');function de(x){var p=Z(),c=m(s(p),2),d=m(s(c),2),l=s(d);U(l,{});var r=m(l,2),u=s(r);Y(u,{}),n(r),n(d),n(c),n(p),v(x,p)}export{de as component};
